# 浏览器的存储方式

## Cookie

Cookie 在 HTTP 请求头里看起来是 key=value 的形式，比如：

```yaml
Set-Cookie: sessionId=eyJhbGciOi...; Expires=Sat, 30 Aug 2025 12:00:00 GMT; Path=/; HttpOnly; Secure
```

但实际上，在浏览器内部，Cookie 并不是简单的纯键值对，而是一个带属性的结构体。每个 Cookie 至少包含这些字段：

* name（键）
* value（值）
* Domain（作用域：哪个域名能用这个 Cookie）
* Path（作用路径：/、/admin 等）
* Expires / Max-Age（过期时间）
* Secure（是否只能在 HTTPS 下传输）
* HttpOnly（是否禁止 JS 访问）
* SameSite（跨站请求策略）

容量：KB 级。

作用域：同源共享，可以设置 domain 和 path 控制作用范围。

有效期：默认会话结束失效，可以设置 Expires 或 Max-Age。

特点：

* 每次请求都会自动携带到服务端（增加请求开销）。
* 常用于会话管理（登录态、用户标识）。
* 安全性依赖于 HttpOnly、Secure、SameSite 等属性。

## LocalStorage

容量：约 5MB。

作用域：同源共享。

有效期：永久存储，除非用户手动清理或代码清除。

特点：

* 只在客户端保存，不随请求发送到服务端。
* 适合保存长期不变的数据（如用户设置、主题）。

## SessionStorage

容量：约 5MB。

作用域：同源共享，但仅限当前标签页/窗口。

有效期：会话级别，标签页关闭即清空。

特点：

* 和 LocalStorage 类似，但生命周期更短。
* 适合存储临时会话数据（如表单中间态）。

## IndexedDB

容量：理论上无限制，远大于 LocalStorage（可达数百 MB 或更多，取决于浏览器和磁盘）。

作用域：同源共享。

有效期：永久，除非主动删除。

特点：
  
* 支持对象存储，可以存储结构化数据（对象、Blob）。
* 支持事务，适合大规模数据存储（离线应用、缓存 API 数据）。
